# A.V._Data

This GitHub serves as the central repository for all codes and notebooks related to the study on the social, economic, and cultural impact of immigration in Cataluña. The study aims to provide a comprehensive understanding of how immigration has shaped various aspects of life in the region, offering insights into demographic trends, labor market dynamics, social integration, and cultural transformation. The dataset used for this study and its results can be obtained from [Exploring the Social, Economic, and Cultural Impact of Immigration in Cataluña](https://figshare.com/projects/Exploring_the_Social_Economic_and_Cultural_Impact_of_Immigration_in_Catalu_a/229650).

## Folders details
The Project is divided in 4 different folders.

### Economic_Sector
This folder holds the notebooks used to study the correlation between nationality and the economic sector in which a given person is working.
The code is divided into three notebooks:
- Poblacion_edad_trabajar.ipynb: Filters the dataset 'Poblacion_inmigrante.csv' to extract information about the number of migrants (by country of birth and municipality) who are of working age.
- Correlacion_Sector-Nacionalidad.ipynb: computes the Pearson coefficent correlation between the number of migrants of each nationality nd the number of Jobs in the four main economic activities in the región (primary sector, industry sector, construction sector and service sector).
- World_map_plot_of_correlations.ipynb: plots a world heat map to show the Pearson coefficent value for each nationality and a given sector.

### Income
This folder includes notebooks used to analyze the relationship between average income per person and the proportion of foreign residents. This analysis is segmented by municipality type, categorized by urbanization level and population density.

### Religious_Centers
This folder encompasses the notebooks utilized to explore the relationship between religious diversity and foreign population distribution, assessing potential correlations and patterns. To show this relation, we use data of the foreign population distribution by municipality in Catalonia, along with the distribution of worship centres for 15 different religions. 

The code is divided into four parts:
- Extract_info_datasets.ipynb (notebook): THIS NOTEBOOK IS CRUCIAL SINCE IT GENERATES THE FILE "foreign_faith_distribution.json", USED IN MOST OF THE OTHER NOTEBOOKS. This file is generate by merging the spatial data (from the geofile "divisions-administratives-v2r1-municipis-1000000-20240705.json") with the foreign population distribution dataset (from the file "census_migrants2021_utf8.csv") and the worship centres distribution dataset (from the file "ReligionCentres_CAT.csv"). Several variables are calculated and normalized for future analysis. 
- Correlation folder: computes the Pearson coefficent correlation between the foreign population distribution and 1) the worship centres distributions (by religion) 2) the Shannon-Wiener index per municipality. A significance analysis through t and z test is also done.
- Religious Distribution folder: the notebook "Religion_distribution_map.ipynb" use the file generated by "Extract_info_datasets.ipynb" in order to plot 3 maps: a heatmap of the Shannon-Wiener index by municipalities and 2 maps for the worship centres distribution with a background of the foreign population density. We also include a treemap to represent the total nº of centres per faith for the whole Catalonian region. The folder "Wrong spatial data" contains a notebook which uses a file with spatial information that was incomplete and did not allow to merge the information from other datasets. It is conserved to showed the strategies followed to analyse the problems and the trials to solve them (finally switching to a more appropiate Geodataset).
- Example Plotly folder: created as a homework for the subject, in order to explore the Plotly libray. In the notebook "Plotly_plot.ipynb" we create a graph and then in the html link "religious_centers_barcelona_2020_2022.html" we showed this graph through the internet explorer.

### Study_level
This folder holds the notebooks leveraged to investigate the connection between educational attainment levels and immigrant population distribution, offering insights into how immigration impacts education across the region.
- study_level.ipynb: It combines the dataset of study levels(weighted average of 10 categories) and map(comarcas) and draws a heat map. Additionaly, it also calculates the correlation coefficient between study levels(weighted average).


## About this repository
Repository for the subject A.V._Data subject of the master in Physics of Complex and Biological systems, Universitat de Barcelona.
